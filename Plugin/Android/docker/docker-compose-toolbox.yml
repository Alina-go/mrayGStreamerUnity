version: '2.0'

services:
  mray-android:
    image: mray/android
    build:
      context: .
      args:
        NDK_TARGET_LEVEL:         android-23
        NDK_APP_ABI:              armeabi-v7a
        ANT_VERSION:              1.9.4
        GST_ANDROID_ARCH:         armv7
        GST_ANDROID_VERSION:      1.14.5
    environment:
      MOUNT_GST_UNITY_BRIDGE:     /mnt/mrayGStreamerUnity
      MOUNT_OUTPUT_PATH:          /mnt/output
      MOUNT_LIB_GST_ANDROID:      /mnt/libgstreamer_android.so
    #entrypoint: /bin/bash
    volumes:
      - /mrayGStreamerUnity:/mnt/mrayGStreamerUnity:ro
      - /mrayGStreamerUnity/Plugin/Build/Android:/mnt/output
